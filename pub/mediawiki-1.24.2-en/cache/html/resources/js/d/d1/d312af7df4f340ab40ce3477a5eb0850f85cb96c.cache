mw.loader.implement("mediawiki.action.history",function($,jQuery){jQuery(function($){var $historyCompareForm=$('#mw-history-compare'),$historySubmitter,$lis=$('#pagehistory > li');function updateDiffRadios(){var nextState='before',$li,$inputs,$oldidRadio,$diffRadio;if(!$lis.length){return true;}$lis.each(function(){$li=$(this);$inputs=$li.find('input[type="radio"]');$oldidRadio=$inputs.filter('[name="oldid"]').eq(0);$diffRadio=$inputs.filter('[name="diff"]').eq(0);$li.removeClass('selected between before after');if(!$oldidRadio.length||!$diffRadio.length){return true;}if($oldidRadio.prop('checked')){$li.addClass('selected after');nextState='after';}else if($diffRadio.prop('checked')){$li.addClass('selected '+nextState);nextState='between';}else{$li.addClass(nextState);}});return true;}$lis.find('input[name="diff"], input[name="oldid"]').click(updateDiffRadios);updateDiffRadios();$historyCompareForm.find('.historysubmit').click(function(){$historySubmitter=$(this);});$historyCompareForm
.submit(function(e){var $copyForm,$copyRadios,$copyAction;if($historySubmitter){$copyForm=$historyCompareForm.clone();$copyRadios=$copyForm.find('#pagehistory > li').find('input[name="diff"], input[name="oldid"]');$copyAction=$copyForm.find('> [name="action"]');if($historySubmitter.hasClass('mw-history-compareselectedversions-button')){$copyAction.remove();$copyForm.find('input[name^="ids["]:checked').prop('checked',false);}else if($historySubmitter.hasClass('mw-history-revisiondelete-button')){$copyRadios.remove();$copyAction.val($historySubmitter.attr('name'));$copyForm.find(':submit').remove();}$copyForm.css('display','none').find('[id]').removeAttr('id').end().insertAfter($historyCompareForm).submit();e.preventDefault();return false;}return true;});});},{"css":["#pagehistory li.before input[name=\"oldid\"],#pagehistory li.after input[name=\"diff\"]{visibility:hidden}\n/* cache key: enmnwiki_pub:resourceloader:filter:minify-css:7:cf888fb33cdf8ee7fbc263964cb116d3 */"]},{});
/* cache key: enmnwiki_pub:resourceloader:filter:minify-js:7:59a5f4dc8573bdacfcff2dd597bf86f9 */